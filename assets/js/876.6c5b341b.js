(window.webpackJsonp=window.webpackJsonp||[]).push([[876],{1301:function(e,t,a){"use strict";a.r(t);var r=a(42),s=Object(r.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h2",{attrs:{id:"old-format"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#old-format"}},[e._v("#")]),e._v(" Old Format")]),e._v(" "),a("p",[e._v("For reference, the "),a("strong",[e._v("old")]),e._v(" extrinsic format was:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("[ account-id (32-bytes), index (4-bytes), call (dynamic-length), signature on first three fields (64 bytes) ]\n")])])]),a("h2",{attrs:{id:"current-format"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#current-format"}},[e._v("#")]),e._v(" Current Format")]),e._v(" "),a("p",[e._v("The Polkadot extrinsic format is:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("[ address (1/3/5/9/33-bytes, dependent on first byte), index (4-bytes), call (dynamic-length), signature on *original* fields (64 bytes) ]\n")])])]),a("p",[e._v("The "),a("em",[e._v("original")]),e._v(" fields refer to the following from the old extrinsic format:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("[ account-id (32-bytes), index (4-bytes), call (dynamic-length) ]\n")])])]),a("p",[e._v("The specific format for the new address type is one of 5 sub-formats, switched on the first byte:")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("0xff, 32-byte account id")])]),e._v(" "),a("li",[a("code",[e._v("0xfe, 8-byte account index")])]),e._v(" "),a("li",[a("code",[e._v("0xfd, 4-byte account index")])]),e._v(" "),a("li",[a("code",[e._v("0xfc, 2-byte account index")])]),e._v(" "),a("li",[a("code",[e._v("[0xf0...0xfb] (invalid, reserved for future use)")])]),e._v(" "),a("li",[a("code",[e._v("[0x00...0xef] 1-byte account index (less than 0xf0)")])])]),e._v(" "),a("p",[e._v("The account index variants are significantly smaller but require a lookup in the state. To avoid a transaction replay attack when an index changes its account, the signature is signed not with the first field as the index, but rather as the account id, thereby invalidating all previous signatures once the index is used to lookup a different id.")]),e._v(" "),a("p",[e._v("In addition to the sender field, any parameters to Call/Propose (PrivCall) fields that were AccountId (32-bytes) in the old format are now Address (1/3/5/9/33-bytes).")]),e._v(" "),a("h2",{attrs:{id:"source"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#source"}},[e._v("#")]),e._v(" Source")]),e._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/paritytech/substrate/pull/195",target:"_blank",rel:"noopener noreferrer"}},[e._v("Substrate #195"),a("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=s.exports}}]);